<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Horse Muscles Viewer</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    svg {
      width: 90%;
      max-width: 1200px;
      margin-top: 20px;
    }
    #infoBox {
      margin-top: 20px;
      padding: 10px 20px;
      border: 1px solid #ccc;
      background: #f9f9f9;
      width: 90%;
      max-width: 600px;
      text-align: left;
    }
    .highlight {
      fill: orange !important;
      stroke: red !important;
      stroke-width: 2px;
    }
  </style>
</head>
<body>

  <h1>üê¥ Horse Muscles Viewer</h1>
  <p>Click a muscle to view its name, origin, and insertion in English and Amharic.</p>

  <!-- Embed your SVG -->
  <object id="muscleSVG" type="image/svg+xml" data="muscles.svg"></object>

  <div id="infoBox">Click a muscle to see details.</div>

  <script>
    let muscleData = {};

    fetch('muscles.json')
      .then(response => response.json())
      .then(data => {
        muscleData = data;
        setupListeners();
      });

    function setupListeners() {
      const svgObject = document.getElementById('muscleSVG');
      svgObject.addEventListener('load', () => {
        const svgDoc = svgObject.contentDocument;
        for (const region in muscleData) {
          for (const id in muscleData[region]) {
            const muscle = svgDoc.getElementById(id);
            if (muscle) {
              muscle.style.cursor = 'pointer';
              muscle.setAttribute('data-region', region);
              muscle.addEventListener('click', () => showInfo(id, muscle));
            }
          }
        }
      });
    }

    function showInfo(id, element) {
      const region = element.getAttribute('data-region');
      const data = muscleData[region][id];
      document.querySelectorAll('.highlight').forEach(el => el.classList.remove('highlight'));
      element.classList.add('highlight');

      const en = data.en || id;
      const am = data.am || '';
      const origin = element.getAttribute('data-origin') || data.origin || '‚Äî';
      const insertion = element.getAttribute('data-insertion') || data.insertion || '‚Äî';

      document.getElementById('infoBox').innerHTML = `
        <strong>${en}</strong> (${am})<br>
        <b>Origin:</b> ${origin}<br>
        <b>Insertion:</b> ${insertion}
      `;
    }
  </script>

</body>
</html>
